<app-header></app-header>
<app-breadcrumbs pageTitle="Coordinator Registration"></app-breadcrumbs>
<section id="institute-form" class="form">
    <div class="container">
        <div class="section-title">
            <h2>Form</h2>
            <h3>Coordinator Registration <span>Form</span></h3>
        </div>
        <div *ngIf="invalidOTP" class="alert alert-danger" role="alert">
            Invalid OTP.
        </div>
        <form class="row g-3" [formGroup]="coordinatorForm" (ngSubmit)="onCoordinatorFormSubmit()">
            <div class="col-12">
                <label for="name" class="form-label">Coordinator Name</label>
                <input type="text" class="form-control" id="name" formControlName="name">
                <small class="text-danger" *ngIf="!name?.valid && name?.touched">Please Enter Name</small>
            </div>
            <div class="col-12">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" formControlName="email">
                <small class="text-danger" *ngIf="!email?.valid && email?.touched">Please Enter Valid Email Address</small>
            </div>
            <div class="col-12">
                <label for="dob" class="form-label">DOB</label>
                <input type="date" class="form-control" id="dob" formControlName="dob">
                <small class="text-danger" *ngIf="!dob?.valid && dob?.touched">Please Enter Valid Date Of Birth</small>
            </div>
            <div class="col-12">
                <label for="occupation" class="form-label">Occupation</label>
                <input type="text" class="form-control" id="occupation" formControlName="occupation">
                <small class="text-danger" *ngIf="!occupation?.valid && occupation?.touched">Please Enter Valid Occupation</small>
            </div>
            <div class="col-md-6">
                <label for="phone" class="form-label">Phone</label>
                <input type="tel" class="form-control" id="phone" formControlName="phone">
                <small class="text-danger" *ngIf="!phone?.valid && phone?.touched">Please Enter Valid Phone Number</small>
            </div>
            <div class="col-md-3 mt-auto" *ngIf="otpSent == false">
                <button type="button" class="btn btn-primary" [disabled]="!phone?.valid" (click)="sendOTP()">Send OTP</button>
                <small style="color: white !important;" class="text-danger" *ngIf="!phone?.valid && phone?.touched">Please Enter Valid Phone Number</small>
                <small style="color: white !important;" class="text-danger" *ngIf="!otp?.valid && otp?.touched">Please Enter Valid OTP</small>
            </div>
            <div class="col-md-3 mt-auto" *ngIf="otpSent">
                <button type="button" class="btn btn-primary" [disabled]="resendOTP" (click)="sendOTP()">Re-Send OTP</button>
                <small style="color: white !important;" class="text-danger" *ngIf="!phone?.valid && phone?.touched">Please Enter Valid Phone Number</small>
                <small style="color: white !important;" class="text-danger" *ngIf="!otp?.valid && otp?.touched">Please Enter Valid OTP</small>
            </div>
            <div class="col-md-3" *ngIf="otpSent">
                <label for="phone" class="form-label">OTP</label>
                <input type="tel" class="form-control" id="phone" formControlName="otp">
                <small class="text-danger" *ngIf="!otp?.valid && otp?.touched">Please Enter Valid OTP</small>
            </div>
            <div class="col-12">
                <label for="address" class="form-label">Address</label>
                <textarea name="address" id="address" cols="30" rows="5" class="form-control" formControlName="address"></textarea>
                <small class="text-danger" *ngIf="!address?.valid && address?.touched">Please Enter Address</small>
            </div>
            <div class="col-md-4">
                <label for="pincode" class="form-label">Pin Code</label>
                <input type="text" class="form-control" id="pincode" formControlName="pincode" (change)="getCityAndState()">
                <small class="text-danger" *ngIf="!pincode?.valid && pincode?.touched">Please Enter Valid Pincode</small>
            </div>
            <div class="col-md-4">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="city" formControlName="city">
                <small class="text-danger" *ngIf="!city?.valid && city?.touched">Please Enter City</small>
            </div>
            <div class="col-md-4">
                <label for="state" class="form-label">State</label>
                <input type="text" class="form-control" id="state" formControlName="state" readonly>
                <small class="text-danger" *ngIf="!state?.valid && state?.touched">Please Enter State</small>
            </div>
            <ngx-recaptcha2 #captchaElem
              [siteKey]="siteKey"
              formControlName="recaptcha">
            </ngx-recaptcha2>
            <div class="col-12">
                <button type="submit" class="btn btn-primary" [disabled]="!coordinatorForm.valid">Register</button>
            </div>
        </form>
    </div>
</section>
<app-footer pageTitle="coordinator-registration"></app-footer>